# 杨松霖

# 联系方式
- 手机 : 18380446824
- QQ : 424237052
- Email : 424237052@qq.com

# 个人信息
- 杨松霖／男／1994
- 期望职位：Java开发工程师
- 期望薪资：税前月薪7-9K
- 本科／成都信息工程大学／计算机科学与技术／2016年毕业

# 专业能力
- 编程语言：Java，Python，Shell，JavaScript
- Activity MQ，Redis，Zookepeer，Mysql，Tomcat，Git
- Spring MVC， Spring， Mybatis， Rose，JTA， Shiro，webmagic
- 会一些前端：HTML5，Bootstrap，JQuery，Vue.js
- 熟悉Java多线程编程，NIO，JVM
- 熟悉Http协议，OAuth2.0
- 代码规范，熟悉Restful式的接口设计
- 了解分布式锁的实现，分布式事务的实现
- 了解海量数据存储及高并发情景下的数据存储：分库，水平和垂直分表，读写分离，数据库集群
- 了解常用的负载均衡方案：DNS负载，Nginx负载（轮询，加权轮询，随机和单向散列），CDN

# 个人说明
1. 基础扎实，熟悉常用数据结构与算法，喜欢研究算法，喜欢溯本求源，喜欢研究源码。
2. 我善于用OO思想编程，喜欢抽象事物，善于思考问题解决问题。
3. 因此我也喜欢国外的开源项目，因为他们的代码规范，对问题的抽象，以及各种技巧和对问题的一般化能力很强，其代码也具有很强的规范化，标准化以及扩展性。这也是我对自己的代码追求。
4. 我也善于和产品、客户端打交道，准确了解需求和完善功能。
5. 善于总结，我学习过程中总结的一些东西： https://github.com/Granado/MyNote

# 工作经历

### 成都云遥互动科技有限公司-抹茶美妆（2016年06月～至今）

### 1、抹茶美妆小程序版的接口：
- 项目背景：微信刚推出小程序时我们就开始做了小程序版的抹茶美妆，由前端人员实现界面，我们后端给出接口。我在这个项目中负责在APP现有的结构中实现用户关注相关的功能。该功能的需求是展示用户关注的作者所发布的视频、专题、帖子。 

- 项目难点：由于抹茶美妆的APP沉淀有百万级的用户量，因而产生的动态数据很大。需要对数据进行分表存储。并且每次加载用户关注的人的动态时，量会特别大。将自己的动态扩散到自己的粉丝很耗时。

- 1. 为了方便按用户ID、动态ID检索，所以按**水平和垂直两个方面分表**，将用户ID+动态ID分一类表，动态ID+动态详情分一类表。

- 2. 有用户ID的表**按用户ID取100的模散列**到表。动态详情表则**全局维护一个ID，用redis保证原子性，再按动态ID模500W**（每张表最多存500W）。

- 3.  使用redis缓存每个用户所关注的人的动态ID（最多200个），这样就只用查询这些动态详情就很快了，而且每次一页只取20个ID。用过zset存储结构，保证动态ID有序，并以score作为分页标准。

- 4. 每个用户产生新的动态发送MQ消息，统一由MQ的消费者处理，将该用户所有的粉丝ID取出，将新的动态ID分别添加到每个用户在redis缓存的动态ID列表中。 

- 项目技术：rose、spring、jade、mq、redis、mysql，json，分表。最后部署2个实例，用阿里云自带的负载均衡实现负载。

- 项目结果：满足了产品对于动态模块的预计，并且存储量已达3000W+，动态展示效果良好。 

### 2、接口权限管理项目：
- 项目背景：为了满足MCN项目的管理功能，我实现了一个统一的权限管理模块。

- 项目需求： 扫描项目所有的URL接口，并维护一个角色池，创建不同的角色，分配可访问的URL接口。需要给用户分配什么样的权限，就分配具有什么接口访问权限的角色。

- 项目实现：主要通过shiro现有的功能实现拦截（shrio里已实现有URL路径匹配算法，Ant风格匹配和正则匹配），动态加载需要拦截的接口地址，并对每个访问该地址的用户进行权限验证。对于角色和接口的管理单独有一个管理界面。

- 项目技术： rose，spring，shiro，vue.js，mysql，jqGrid.js，Bootstrap，饿了么封装的vue树展示的组件 e-tree。

- 待优化：权限验证加入角色资源分配表的缓存，避免每次查询数据库。对restful风格的有些写法不支持。

### 3、新浪微博的爬虫：
- 项目背景：由于MCN项目的需求，需要爬取微博信息，分析具有潜力的网红以便于签约培养。

- 项目需求：主要爬取的信息按美妆标签下所有发布微博的人，作为人选备选池，再爬取挑选出的网红，对他们的粉丝爬取，对他们发的微博的转评赞列表的人爬取等等。

- 项目技术：主要使用的Webmagic框架实现爬虫功能，使用Mybatis做orm框架。

- 项目难点： 主要问题在于接口分析和大量快速爬取的问题。

- 项目实现：
- 1.  接口采用H5端的接口，不需要多余的校验。
- 2. 使用代理IP来实现大量快速抓取
- 3. ADSL拨号代理池实现。

### 4、抹茶美妆APP接口：
- 项目背景：在6.0版本的直播功能中，做了用户信息浮层（主要拉取用户信息展示）和百大赏模块。

- 项目难点：按类型展示精华专题和视频的接口。将所有的精华的专题、视频展示。主要点在于拉取精华表里的数据按类型分表查，这里均采用分类批量查询，然后组装成一个model返回给客户端。并在service层将该model做缓存，存于redis中（因为精华内容变动小，故而缓存）。

### 5、 v6.0直播服务的视频回放处理：
- 项目背景：直播服务需要提供直播完成后的回放视频，腾讯云的直播服务录制下的视频按1小时30分钟为间隔分成多个文件，为了方便客户端播放需要合并。

- 项目难点：将腾讯云直播服务里录制的视频拉取到七牛云，并调用七牛云的API将视频文件合并。由于直播在实际使用环境会出现各种异常导致直播中断，会影响录制的文件个数，导致在拉取的时候不能准确的拿到完整直播时间的视频文件。

- 项目结果：线上回放服务稳定，遇到特殊情况也能保证直播服务的回放正常。

### 6、后台管理系统：
- 项目背景：为了公司内部员工能便捷的在线上添加各种数据、查询各种数据和对用户的管理等等，因而实现有一个管理系统。

- 项目技术：Shiro、Rose（类似Spring MVC）、Spring、Jade（rose中实现的一个ORM框架）、Activity MQ、JSP、JQuery。

# 致谢

感谢您花时间阅读我的简历，期待能有机会和您共事。
